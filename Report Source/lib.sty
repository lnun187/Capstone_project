\ProvidesPackage{lib}
\usepackage[T1]{fontenc}
\usepackage[utf8]{vietnam}
\usepackage{amssymb,gensymb,textcomp} \usepackage{array,multicol,multirow,siunitx,tabularx}
\usepackage{graphicx}
\usepackage{float}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{adjustbox}
\usepackage{lipsum}
\usepackage{subcaption}
\usepackage{enumerate}
\usepackage{indentfirst}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{diagbox}
\usepackage{matlab-prettifier}
\usepackage{xcolor}
\usepackage{color}
\definecolor{light-gray}{gray}{0.95}
\newcommand{\code}[1]{\colorbox{light-gray}{\texttt{#1}}}
\usepackage{titlesec}
\usepackage{amsfonts}
\usepackage{caption}
\usepackage{rotating}
\usepackage{tikz}
\usepackage{lmodern}
\usepackage{tocloft}
\usepackage{longtable}
\usepackage[table]{xcolor}
\usepackage{url}
% \usepackage{setspace}
\usepackage[english]{babel}

\usepackage[colorlinks = true,
  linkcolor = black,
  urlcolor  = blue,
  citecolor = blue,
  anchorcolor = blue]{hyperref}
\usepackage{enumitem}
\usepackage[left=3cm,right=2cm,top=2.5cm,bottom=2.5cm]{geometry}
\usepackage{scrextend}
\usepackage{algorithm2e}
\usepackage{etoolbox}
\usepackage{ragged2e}
\usepackage{minted}
\usepackage{lastpage}
\changefontsizes[.7cm]{13pt}
\usepackage{fancyhdr}
\usepackage{tikz,tkz-tab}
\usetikzlibrary{shapes.geometric, arrows}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage{amsthm}
\usepackage{xurl}
\usepackage{commath}
\usepackage{framed}
\usepackage{commath}
\usepackage{framed}
\usepackage{enumitem}
\usepackage{booktabs}


\makeatletter
\newcommand{\mylabel}[2]{#2\def\@currentlabel{#2}\label{#1}}
\makeatother

% \newcommand{\customfontsize}[2]{{\fontsize{#1}{#2}\selectfont}}
% \renewcommand{\figureautorefname}{Hình}
% \renewcommand{\tableautorefname}{Bảng}
% \renewcommand{\equationautorefname}{Phương trình}
% \renewcommand{\sectionautorefname}{Mục}
% \renewcommand{\subsectionautorefname}{Phần}
% \renewcommand{\subsubsectionautorefname}{Phần}
% \renewcommand{\itemautorefname}{}
% \renewcommand{\contentsname}{Mục lục}
\setlength{\headheight}{34.2378pt}
\setlength{\cftparskip}{1pt}
\setlength{\cftbeforesecskip}{1pt}
\addtolength{\topmargin}{-16.2378pt}

\captionsetup{labelfont={bf}}
\pagestyle{fancy}

\fancyhf{} % clear all header fields
\fancyhead[L]{
  \begin{tabular}{rl}
    \begin{picture}(15,15)(0,0)
      \put(0,-8){\includegraphics[width=8.7mm, height=8.7mm]{image/hcmut.png}}
    \end{picture} &
    \begin{tabular}{l}
      \textbf{\bf \ttfamily\color{blue}Ho Chi Minh City University of Technology}
      \\[-1ex] \textbf{\bf \ttfamily\color{blue}Faculty of Computer Science and Engineering}
    \end{tabular}
  \end{tabular}
}
\fancyfoot{} % clear all footer fields
\fancyfoot[L]{\footnotesize \ttfamily \textcolor{blue}{Computer Engineering Assignment - Adaptive AUTOSAR Low Light Image Enhancement - LLIE}}
\fancyfoot[R]{\footnotesize \ttfamily \textcolor{blue}{Page {\thepage}/{\hypersetup{linkcolor=blue}\pageref{LastPage}}}}

\renewcommand{\footrulewidth}{1pt}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
language=R,% set programming language
backgroundcolor=\color{backcolour},
commentstyle=\color{codegreen},
keywordstyle=\color{blue},
numberstyle=\tiny\color{codegray},
stringstyle=\color{codepurple},
basicstyle=\ttfamily\footnotesize,
breakatwhitespace=false,
breaklines=true,
captionpos=b,
keepspaces=true,
numbers=left,
numbersep=5pt,
frame = tb,
showspaces=false,
showstringspaces=false,
showtabs=false,
tabsize=2
escapeinside={(*}{*)},% escaping to LaTeX
fancyvrb=true,% verbatim code is typset by listings
extendedchars=false,% prohibit extended chars (chars of codes 128--255)
alsoother={\$},% becomes other
otherkeywords={!=, \~, \$, \&, \%/\%, \%*\%, \%\%, <-, <<-, /},% other keywords
deletekeywords={c}% remove keywords
}

\usepackage{bashful}
\usepackage{tcolorbox}
\tcbuselibrary{minted,breakable,xparse,skins}
\definecolor{bg}{gray}{0.95}
\DeclareTCBListing{mintedbox}{O{}m!O{}}{%
breakable=true,
listing engine=minted,
listing only,
minted language=#2,
minted style=default,
minted options={%
    linenos=true,
    gobble=0,
    breaklines=true,
    breakafter=,,
    fontsize=\small,
    numbersep=8pt,
    #1},
boxsep=0pt,
left skip=0pt,
right skip=0pt,
left=25pt,
right=0pt,
top=3pt,
bottom=3pt,
arc=5pt,
leftrule=0pt,
rightrule=0pt,
bottomrule=2pt,
toprule=2pt,
colframe=orange!70,
enhanced,
overlay={%
    \begin{tcbclipinterior}
      \fill[orange!20!white] (frame.south west) rectangle ([xshift=20pt]frame.north west);
    \end{tcbclipinterior}},
#3}
\usepackage[dvipsnames]{xcolor}
\patchcmd{\thebibliography}
{\section*{\refname}} % Tìm lệnh hiển thị tiêu đề mặc định
{\section*{\centering \refname}} % Thay bằng tiêu đề căn giữa
{}{}

\makeatletter
\AtBeginEnvironment{mintedbox}{\dontdofcolorbox}
\def\dontdofcolorbox{\renewcommand\fcolorbox[4][]{##4}}
\makeatother
\lstset{frame=tb,
  language=Python,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{Green},
  stringstyle=\color{orange},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3,
}
\setcounter{secnumdepth}{4}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{array}
\usepackage{subcaption}
\titleformat{\paragraph}
{\normalfont\normalsize\itshape}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\lstloadlanguages{C,C++,csh,Java,Matlab,R}
\newtcolorbox{mybox}[1]{colback=gray!20, colframe=black, fonttitle=\ttfamily, title=#1}
\lstset{
  language=C,
  basicstyle=\footnotesize\ttfamily,
  numbers=left,
  numberstyle=\tiny,
  numbersep=2pt,
  tabsize=10,
  extendedchars=true,
  breaklines=true,
  frame=none,
  stringstyle=\color{blue}\ttfamily,
  showspaces=false,
  showtabs=false,
  xleftmargin=13pt,
  framexleftmargin=17pt,
  framexrightmargin=15pt,
  framexbottommargin=15pt,
  commentstyle=\color{green},
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  showstringspaces=false,
  morekeywords={auto, break, case, char, const, continue, default, do, double, else, enum, extern, float, for, goto, if, inline, int, long, register, restrict, return, short, signed, sizeof, static, struct, switch, typedef, union, unsigned, void, volatile, while, _Alignas, _Alignof, _Atomic, _Bool, _Complex, _Generic, _Imaginary, _Noreturn, _Static_assert, _Thread_local}
  ,
  commentstyle=\color{red},
  keywordstyle=\color{cyan},
}

\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox{BTL}{\parbox{\textwidth}{\hspace{15pt}#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}

\hypersetup{urlcolor=blue,linkcolor=black,citecolor=black,colorlinks=true}