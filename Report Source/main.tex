\documentclass[a4paper,12pt]{report}

%=====================================================
% DOCUMENT CLASS & FONT SETTINGS
%=====================================================
\usepackage[T1]{fontenc}
\usepackage[fontsize=13pt]{scrextend}
\usepackage{mathptmx} % Times font
\usepackage{lmodern}
\usepackage{adjustbox}
%=====================================================
% LANGUAGE & ENCODING
%=====================================================
\usepackage{csquotes}
\usepackage[utf8]{vietnam}
\usepackage[english]{babel}
% \usepackage{vntex}

%=====================================================
% PAGE LAYOUT & GEOMETRY
%=====================================================
\usepackage{geometry}
\usepackage{setspace}
\usepackage{indentfirst}
\usepackage{ragged2e}

% Page layout definitions
\def\thesislayout{
    \newgeometry{
        a4paper,
        left=35mm,
        right=30mm,
        top=25mm,
        bottom=30mm
    }
}

\def\thesisheadlayout{
    \geometry{
        a4paper,
        left=40mm,
        right=30mm,
        top=30mm,
        bottom=30mm
    }
}

\thesisheadlayout
\renewcommand{\baselinestretch}{1.5}
\setlength\parindent{0pt}

%=====================================================
% MATHEMATICS PACKAGES
%=====================================================
\usepackage{amsmath,amssymb,amsfonts,amsthm}
\usepackage{latexsym}
\usepackage{commath}

% Math font declaration
\DeclareMathAlphabet{\mathcal}{OMS}{cmsy}{m}{n}

% Theorem environments
\newtheorem{theorem}{\textbf{Theorem}}
\newtheorem{property}{\textbf{Property}}
\newtheorem{proposition}{\textbf{Proposition}}
\newtheorem{corollary}[proposition]{\textbf{Corollary}}
\newtheorem{lemma}[proposition]{\textbf{Lemma}}

%=====================================================
% TABLES & ARRAYS
%=====================================================
\usepackage{array,tabularx,longtable}
\usepackage{multirow,multicol}
\usepackage{hhline}
\usepackage{booktabs}
\usepackage{diagbox}

%=====================================================
% GRAPHICS & FIGURES
%=====================================================
\usepackage{graphicx}
\usepackage{epsfig}
\usepackage{float}
\usepackage{subcaption}
\usepackage{caption}
\usepackage{rotating}
\usepackage{tikz}
\usepackage{pdfpages}
% In main.tex preamble, update the tocloft section:
\usepackage{tocloft}

\renewcommand{\cftfigpresnum}{\figurename~}
\renewcommand{\cftfignumwidth}{5em}
\renewcommand{\cfttabpresnum}{\tablename~}
\renewcommand{\cfttabnumwidth}{5em}

% Better LOF formatting
\setlength{\cftbeforefigskip}{8pt}
\renewcommand{\cftfigfont}{\small}
\renewcommand{\cftfigpagefont}{\small}

\usetikzlibrary{arrows,snakes,backgrounds,calc}

% Float spacing
\setlength{\floatsep}{5pt plus 2pt minus 2pt}
\setlength{\textfloatsep}{5pt plus 2pt minus 2pt}
\setlength{\intextsep}{10pt plus 2pt minus 2pt}

%=====================================================
% ALGORITHMS & CODE
%=====================================================
\usepackage[lined,boxed,commentsnumbered]{algorithm2e}
\usepackage{algorithmic}
\usepackage{listings}

\RestyleAlgo{ruled}
\SetKwComment{Comment}{/* }{ */}
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}

%=====================================================
% BIBLIOGRAPHY
%=====================================================
\usepackage[style=ieee,sorting=none]{biblatex}
\addbibresource{refs.bib}

\AtEveryBibitem{%
  \clearfield{issn}
  \clearfield{doi}
  \ifentrytype{online}{}{%
    \clearfield{url}
  }
}

%=====================================================
% HYPERLINKS & COLORS
%=====================================================
\usepackage{xcolor}
\usepackage{hyperref}

\hypersetup{
    colorlinks=true,
    linkcolor=black,
    urlcolor=blue,
    citecolor=black,
    anchorcolor=blue
}

%=====================================================
% TABLE OF CONTENTS
%=====================================================
\usepackage{tocloft}

\renewcommand{\cftfigpresnum}{\figurename~}
\renewcommand{\cftfignumwidth}{5em}
\renewcommand{\cfttabpresnum}{\tablename~}
\renewcommand{\cfttabnumwidth}{5em}

\AtBeginDocument{
    \renewcommand*\contentsname{Mục lục}
    \renewcommand*\refname{Tài liệu tham khảo}
    \renewcommand*\listfigurename{Danh sách hình vẽ}
    \renewcommand*\listtablename{Danh sách bảng biểu}
}

%=====================================================
% HEADERS & FOOTERS
%=====================================================
\usepackage{fancyhdr}
\usepackage{lastpage}

\setlength{\headheight}{40pt}
\renewcommand{\headrulewidth}{0.3pt}
\renewcommand{\footrulewidth}{0.3pt}

\fancyfoot{}
\fancyfoot[R]{\scriptsize Trang \thepage/\pageref{LastPage}}

%=====================================================
% SECTION FORMATTING
%=====================================================
\usepackage{titlesec}

\titleformat{\chapter}[display]
    {\normalfont\huge\bfseries}
    {\chaptertitlename{} \thechapter}
    {15pt}
    {\Huge}

\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{3}

% Subsubsubsection definition
\makeatletter
\newcounter{subsubsubsection}[subsubsection]
\renewcommand\thesubsubsubsection{\thesubsubsection.\@alph\c@subsubsubsection}
\newcommand\subsubsubsection{\@startsection{subsubsubsection}{4}{\z@}%
    {-3.25ex\@plus -1ex \@minus -.2ex}%
    {1.5ex \@plus .2ex}%
    {\normalfont\normalsize\bfseries}}
\newcommand*\l@subsubsubsection{\@dottedtocline{3}{10.0em}{4.1em}}
\newcommand*{\subsubsubsectionmark}[1]{}
\makeatother

%=====================================================
% CUSTOM COMMANDS
%=====================================================
\newcommand\tab[1][1cm]{\hspace*{#1}}
\newcommand\blank[1]{\rule[-.2ex]{#1}{.4pt}}

%=====================================================
% FIGURE & TABLE NAMING
%=====================================================
\renewcommand{\figurename}{\textbf{Hình}}
\renewcommand{\tablename}{\textbf{Bảng}}

%=====================================================
% DOCUMENT BEGIN
%=====================================================
\begin{document}

\begin{titlepage}
    \begin{tikzpicture}[remember picture,overlay,inner sep=0,outer sep=0]
         \draw[blue!70!black,line width=4pt] ([xshift=-1.5cm,yshift=-2cm]current page.north east) coordinate (A)--([xshift=1.5cm,yshift=-2cm]current page.north west) coordinate(B)--([xshift=1.5cm,yshift=2cm]current page.south west) coordinate (C)--([xshift=-1.5cm,yshift=2cm]current page.south east) coordinate(D)--cycle;
    
         \draw ([yshift=0.5cm,xshift=-0.5cm]A)-- ([yshift=0.5cm,xshift=0.5cm]B)--
         ([yshift=-0.5cm,xshift=0.5cm]B) --([yshift=-0.5cm,xshift=-0.5cm]B)--([yshift=0.5cm,xshift=-0.5cm]C)--([yshift=0.5cm,xshift=0.5cm]C)--([yshift=-0.5cm,xshift=0.5cm]C)-- ([yshift=-0.5cm,xshift=-0.5cm]D)--([yshift=0.5cm,xshift=-0.5cm]D)--([yshift=0.5cm,xshift=0.5cm]D)--([yshift=-0.5cm,xshift=0.5cm]A)--([yshift=-0.5cm,xshift=-0.5cm]A)--([yshift=0.5cm,xshift=-0.5cm]A);
    
    
         \draw ([yshift=-0.3cm,xshift=0.3cm]A)-- ([yshift=-0.3cm,xshift=-0.3cm]B)--
         ([yshift=0.3cm,xshift=-0.3cm]B) --([yshift=0.3cm,xshift=0.3cm]B)--([yshift=-0.3cm,xshift=0.3cm]C)--([yshift=-0.3cm,xshift=-0.3cm]C)--([yshift=0.3cm,xshift=-0.3cm]C)-- ([yshift=0.3cm,xshift=0.3cm]D)--([yshift=-0.3cm,xshift=0.3cm]D)--([yshift=-0.3cm,xshift=-0.3cm]D)--([yshift=0.3cm,xshift=-0.3cm]A)--([yshift=0.3cm,xshift=0.3cm]A)--([yshift=-0.3cm,xshift=0.3cm]A);
    \end{tikzpicture}
    
    \begin{center}
        \vspace{-20pt}
        \textbf{TRƯỜNG ĐẠI HỌC BÁCH KHOA TP.HCM}\\
        \textbf{KHOA KHOA HỌC VÀ KỸ THUẬT MÁY TÍNH}\\
        \vspace{10pt}
        \includegraphics[width=0.25\linewidth]{image/hcmut.png}\\
        \vspace{8pt}
        \textbf{\Large ĐỒ ÁN THIẾT KẾ}\\ 
        \vspace{8pt}
        \textbf{\Large KỸ THUẬT MÁY TÍNH}\\
        \vspace{15pt}
        \hrule
        \vspace{20pt}
        % TÊN ĐỀ TÀI TIẾNG VIỆT
        \textcolor{blue}{\Large{\textbf{THIẾT KẾ VÀ HIỆN THỰC AI ACCELERATOR TRÊN SYSTEM-ON-CHIP}}}\\
        \vspace{20pt}
        \hrule
    \end{center}

    \vspace{5pt}
    \begin{center}
       \large{\textbf{Học kỳ 251}}\\
       \vspace{10pt}
       \textbf{GVHD:} PGS. TS. Lê Hồng Trang 
    \end{center}

    \vspace{1cm}
    
    \begin{adjustbox}{width=0.94\textwidth,center=\textwidth}
        \small
        \begin{tabular}{|>{\centering\arraybackslash}m{1cm}|>{\centering\arraybackslash}m{5.3cm}|>{\centering\arraybackslash}m{1.7cm}|>{\centering\arraybackslash}m{4cm}|}
            \hline
            \textbf{STT} & \textbf{Họ và tên} & \textbf{MSSV} & \textbf{Ghi chú}\\
            \hline
                1 & Lâm Nữ Uyển Nhi & 2212429 &\\
                2 & Vũ Đức Lâm & [Điền MSSV] &\\
            \hline
        \end{tabular}
    \end{adjustbox}
    
    \begin{center}
        ~\\
        ~\\        ~\\
        ~\\
        \textit{TP. Hồ Chí Minh, Tháng 12/2025}
    \end{center}
\end{titlepage}

% \thesislayout

%\thispagestyle{empty}
\renewcommand{\figurename}{\textbf{Hình}}
\renewcommand{\tablename}{\textbf{Bảng}}
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pagenumbering{roman}

% \include{instructor-signature/main}
% \includepdf[pages=-]{instructor-signature/task.pdf}
% \includepdf[pages=-]{instructor-signature/Dong.pdf}
\setcounter{page}{1}
% \include{authenticity-declaration/main.tex}

% \include{acknowledgement/main.tex}

\include{tom_tat/main.tex} % Tên cũ: abstraction

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\tableofcontents
\newpage
\listoffigures
\newpage
\listoftables
\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pagenumbering{arabic}
\setcounter{page}{1}
\thesislayout

% --- PHẦN INCLUDE VỚI TÊN THƯ MỤC TIẾNG VIỆT ---
% (Bạn nhớ đổi tên thư mục trên máy tính cho khớp nhé)

% Chương 1: Giới thiệu
\include{1_gioi_thieu/main} 

% Chương 2: Cơ sở lý thuyết
\include{2_co_so_ly_thuyet/main} 

% Chương 3: Phân tích yêu cầu và Kiến trúc
\include{3_phan_tich_va_kien_truc/main} 

% Chương 4: Thiết kế Accelerator (Phần của Nhi)
\include{4_thiet_ke_accelerator/main} 

% Chương 5: Hiện thực SoC (Phần của Lâm)
\include{5_hien_thuc_soc/main} 

% Chương 6: Đánh giá hiệu năng (Phần tính toán)
\include{6_danh_gia_hieu_nang/main} 

% Chương 7: Kế hoạch phát triển
\include{7_ke_hoach_phat_trien/main} 


% \nocite{*}
\addcontentsline{toc}{chapter}{Tài liệu tham khảo}
\printbibliography[title=Tài liệu tham khảo]

\include{appendix/main} % Tên cũ: appendix
\end{document}